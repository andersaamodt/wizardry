---
title: "Shell Scripting for the Web"
published_at: "2024-01-25T09:15:00Z"
content_hash: "7f83b1657ff1fc53b92dc18148a1d65dfc2d4b1fa3d677284addd200126d9069"
tags: ["tech", "shell", "web-development"]
author: "Blog Author"
summary: "Exploring the power of POSIX shell scripts as a backend for interactive web applications."
visibility: "public"
license: "CC BY 4.0"
---

# Shell Scripting for the Web

Most modern web applications use JavaScript, Python, Ruby, or PHP on the backend. But what if you could build interactive web apps using nothing but POSIX shell scripts?

## The CGI Renaissance

CGI (Common Gateway Interface) is one of the oldest web technologies, dating back to 1993. While it's fallen out of favor in the JavaScript era, CGI with shell scripts offers unique advantages:

### Advantages of Shell CGI

1. **Simplicity**: No frameworks, no dependencies, just shell
2. **Transparency**: Easy to read, audit, and understand
3. **UNIX power**: Direct access to all system tools
4. **No runtime overhead**: Shell is already there
5. **Educational**: Learn UNIX while building web apps

### Example: Counter

Here's a complete CGI script that increments a counter:

```sh
#!/bin/sh
set -eu

# Read or initialize counter
counter_file="$HOME/counter.txt"
count=$(cat "$counter_file" 2>/dev/null || echo 0)
count=$((count + 1))
echo "$count" > "$counter_file"

# Output HTTP response
http-status 200 "OK"
http-header "Content-Type" "text/html"
http-end-headers

printf '<p>Count: <strong>%s</strong></p>\n' "$count"
```

## web wizardry architecture

The wizardry web platform uses:

```
Browser
  ↓ (htmx request)
nginx
  ↓ (CGI proxy)
fcgiwrap
  ↓ (executes)
Shell Script in spells/.imps/cgi/
  ↓ (returns)
HTML Fragment
  ↓ (htmx swap)
Updated Page
```

No page reloads. No JavaScript frameworks. Just shell scripts and htmx.

## Real-World Use Cases

Shell CGI is perfect for:
- **Admin interfaces**: System monitoring, log viewing
- **Personal tools**: Note-taking, bookmarks, todo lists
- **Automation**: Trigger scripts via web UI
- **Learning**: Understand UNIX while building apps

## Security Considerations

Shell CGI requires careful handling:
- ✅ Validate and sanitize all inputs
- ✅ Quote all variables properly
- ✅ Use `set -eu` for strict mode
- ✅ Restrict CGI directory (no arbitrary execution)
- ✅ Run with limited permissions

## The Future

Combining shell scripts with modern web tech creates interesting possibilities:
- Minimal, auditable codebases
- Filesystem as database
- UNIX philosophy meets web development
- Perfect for personal projects and learning

## Try It Yourself

This blog is built with wizardry web. Every interactive feature uses shell CGI scripts. You can:
- Browse the source code
- Create your own site
- Build interactive features
- Learn UNIX along the way

## Resources

- [wizardry web documentation](https://github.com/andersaamodt/wizardry)
- [CGI specification](https://www.rfc-editor.org/rfc/rfc3875)
- [htmx documentation](https://htmx.org)

---

*This post explores using POSIX shell scripts as a web backend through CGI.*
