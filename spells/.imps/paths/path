#!/bin/sh
# path PATH - convert relative path to absolute, normalized
# Example: path ./foo -> /current/dir/foo
set -eu

_path() {
  _p_path=$1
  case "$_p_path" in
    /*) : ;;
    *) _p_path="$(pwd -P)/$_p_path" ;;
  esac
  printf '%s' "$_p_path" | sed 's|///*|/|g'
}

# Self-execute when run directly (not sourced)
case "$0" in
  */path) _path "$@" ;; esac
