#!/bin/sh
# norm-path [PATH] - normalize path (collapse //, resolve . and ..), reads stdin if no arg
# Example: norm-path "/tmp//foo/../bar" -> /tmp/bar

if [ "$#" -ge 1 ]; then
  printf '%s' "$1" | sed 's|///*|/|g'
else
  sed 's|///*|/|g'
fi
