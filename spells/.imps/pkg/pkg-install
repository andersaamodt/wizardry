#!/bin/sh
# pkg-install PACKAGE - install a package using the system package manager
# Example: pkg-install git
set -eu


pi_package=${1:-}
[ -z "$pi_package" ] && { printf '%s\n' "pkg-install: package name required" >&2; exit 1; }

pi_pm=$(pkg-manager) || {
  printf '%s\n' "pkg-install: no supported package manager" >&2
  exit 1
}

case $pi_pm in
  apt)    sudo apt-get -y install "$pi_package" ;;
  pacman) sudo pacman --noconfirm -S "$pi_package" ;;
  nix)    nix-env -iA "nixpkgs.$pi_package" ;;
  pkgin)  sudo pkgin -y install "$pi_package" ;;
esac
