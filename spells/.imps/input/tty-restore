#!/bin/sh
# tty-restore STATE - restore previously saved terminal settings
# Example: state=$(tty-save) && ... && tty-restore "$state"
set -eu

tty_restore() {

  _tr_state=${1:-}

  if [ -z "$_tr_state" ]; then
    printf '%s\n' "tty-restore: state required" >&2
    return 1
  fi

  stty "$_tr_state" >/dev/null 2>&1 || :
}

tty_restore "$@"
