#!/bin/sh
# tty-save - save terminal settings (reads from stdin)
# Example: state=$(tty-save) && ... && tty-restore "$state"
set -eu

_tty_save() {
  if ! stty -g 2>/dev/null; then
    printf '%s\n' "tty-save: unable to read terminal settings" >&2
    return 1
  fi
}

# Self-execute when run directly (not sourced)
case "$0" in
  */tty-save) _tty_save "$@" ;; esac
