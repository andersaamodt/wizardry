#!/bin/sh
# tty-save - save terminal settings (reads from stdin)
# Example: state=$(tty-save) && ... && tty-restore "$state"


usage() {
        cat <<'USAGE' >&2
Usage: tty-save

Save terminal settings (reads from stdin). Example: state=$(tty-save) && ... && tty-restore "$state".
USAGE
}

case "${1-}" in
--help|--usage|-h)
        usage
        exit 0
        ;;
esac

if ! stty -g 2>/dev/null; then
  printf '%s\n' "tty-save: unable to read terminal settings" >&2
  exit 1
fi
