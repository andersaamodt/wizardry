#!/bin/sh
# assert-output-contains SUBSTRING - test that OUTPUT contains substring
# Testing imp - fails if OUTPUT variable doesn't contain the substring
# Example: assert-output-contains "hello"


usage() {
        cat <<'USAGE' >&2
Usage: assert-output-contains SUBSTRING

Test that OUTPUT contains substring Testing imp - fails if OUTPUT variable doesn't contain the substring. Example: assert-output-contains "hello".
USAGE
}

case "${1-}" in
--help|--usage|-h)
        usage
        exit 0
        ;;
esac

substring=$1
case "${OUTPUT-}" in
  *"$substring"*)
    exit 0
    ;;
  *)
    TEST_FAILURE_REASON="output missing substring: $substring"
    exit 1
    ;;
esac
