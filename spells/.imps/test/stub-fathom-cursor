#!/bin/sh
# stub-fathom-cursor - test stub mimicking fathom-cursor system command
# Stubs mimic the interface of commands they replace, including flags
# Example: stub-fathom-cursor -y

set -eu

_stub_fathom_cursor() {
  case ${1-} in
    -y) printf '1\n' ;;
    -x) printf '1\n' ;;
    *) printf '1 1\n' ;;
  esac
}

# Self-execute when run directly (not sourced)
# Match both stub name and symlink name (tests create symlinks without stub- prefix)
case "$0" in
  */fathom-cursor|*/stub-fathom-cursor)
    [ "${_WIZARDRY_SOURCING:-}" != "1" ] && _stub_fathom_cursor "$@"
    ;;
esac
