#!/bin/sh
# link-tools DIR TOOL... - symlink specified tools into directory
# Skips tools that already exist in the directory.
set -eu

link_tools() {
  dir=$1
  shift
  for tool in "$@"; do
    if [ -e "$dir/$tool" ]; then
      continue
    fi
    tool_path=$(command -v "$tool" 2>/dev/null || true)
    if [ -n "$tool_path" ]; then
      ln -s "$tool_path" "$dir/$tool"
    fi
  done
}

# Self-execution when run directly (not sourced)
case "${0##*/}" in link-tools) link_tools "$@" ;; esac
