#!/bin/sh
# skip-if-compiled - skip test if running in compiled mode
# Returns 222 if test should be skipped, 0 otherwise.

skip_if_compiled() {
  if [ "${WIZARDRY_TEST_COMPILED-0}" = "1" ]; then
    TEST_SKIP_REASON="(uncompiled only)"
    return 222
  fi
  return 0
}

# Self-execute when run directly (not sourced)
case "${0##*/}" in
  skip-if-compiled) 
    set -eu
    skip_if_compiled "$@"
    exit $?
    ;;
esac
