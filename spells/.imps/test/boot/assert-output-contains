#!/bin/sh
# assert-output-contains SUBSTRING - verify OUTPUT contains the substring
# Sets TEST_FAILURE_REASON on mismatch.

_assert_output_contains() {
  substring=$1
  case "$OUTPUT" in
    *"$substring"*)
      return 0
      ;;
    *)
      TEST_FAILURE_REASON="output missing substring: $substring"
      return 1
      ;;
  esac
}

# Self-execution when run directly (not sourced)
case "${0##*/}" in assert-output-contains) _assert_output_contains "$@" ;; esac
