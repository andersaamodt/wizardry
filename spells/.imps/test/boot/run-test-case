#!/bin/sh
# run-test-case DESC FUNC [SPELL_PATH] - execute test function
# By default, tests use direct execution (fast, sufficient for most testing).
# Set WIZARDRY_TEST_BOTH_PATTERNS=1 to test both execution patterns.
set -eu

# Internal function for direct test execution (used by both run_test_case and run_both_patterns)

desc=$1
func=$2
spell_path=${3-}

# Check if dual-pattern testing is explicitly requested
if [ "${WIZARDRY_TEST_BOTH_PATTERNS-}" = "1" ]; then
  # Use run-both-patterns for comprehensive validation
  run_both_patterns "$desc" "$func" "$spell_path"
else
  # Default: Direct execution (fast, sufficient for most testing)
  _run_test_case_direct "$desc" "$func"
fi


