#!/bin/sh
# assert-failure - verify STATUS is non-zero
# Sets TEST_FAILURE_REASON if status was 0.
set -eu

assert_failure() {
  if [ "$STATUS" -eq 0 ]; then
    TEST_FAILURE_REASON="expected failure status but got success"
    return 1
  fi
  return 0
}

# Self-execution when run directly (not sourced)
case "${0##*/}" in assert-failure) assert_failure "$@" ;; esac
