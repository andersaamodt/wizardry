#!/bin/sh
# test-summary PASSED TOTAL [SKIPPED] - output test summary line
# FAILED is calculated from PASSED and TOTAL
# Example: test-summary 5 10
# Example: test-summary 5 10 3

set -eu

passed=$1
total=$2
skipped=${3-0}
failed=$((total - passed))

printf '%s/%s tests passed' "$passed" "$total"

if [ "$failed" -gt 0 ]; then
  printf ' (%s failed' "$failed"
  if [ "$skipped" -gt 0 ]; then
    printf ', %s skipped' "$skipped"
  fi
  printf ')\n'
elif [ "$skipped" -gt 0 ]; then
  printf ' (%s skipped)\n' "$skipped"
else
  printf '\n'
fi


