#!/bin/sh
# stub-stty - test stub mimicking stty system command
# Stubs mimic the interface of commands they replace, including flags
# Example: stub-stty -g

set -eu

stub_stty() {

    case ${1-} in
      -g) printf 'saved-state\n' ;;
      *) return 0 ;;
    esac
}

# Self-execute when run directly (not sourced)
# Match both stub name and unprefixed name (for symlinks)
case "$0" in
  */stty|*/stub-stty) stub_stty "$@" ;; esac