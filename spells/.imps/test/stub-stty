#!/bin/sh
# stub-stty - test stub mimicking stty system command
# Stubs mimic the interface of commands they replace, including flags
# Example: stub-stty -g

set -eu

_stub_stty() {
  case ${1-} in
    -g) printf 'saved-state\n' ;;
    *) exit 0 ;;
  esac
}

# Self-execute when run directly (not sourced)
# Match both stub name and symlink name (tests create symlinks without stub- prefix)
case "$0" in
  */stty|*/stub-stty) _stub_stty "$@" ;; esac
