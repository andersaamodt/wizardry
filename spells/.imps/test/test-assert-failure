#!/bin/sh
# assert-failure - test assertion that STATUS is not 0
# Testing imp - fails if STATUS variable equals 0
# Example: assert-failure || return 1

_test_assert_failure() {
  if [ "${STATUS:-0}" -eq 0 ]; then
    TEST_FAILURE_REASON="expected failure status but got success"
    return 1
  fi
}

# Self-execute when run directly (not sourced)
case "$0" in
  */test-assert-failure) _test_assert_failure "$@" ;; esac
