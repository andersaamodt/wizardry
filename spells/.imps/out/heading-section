#!/bin/sh
# heading-section TEXT - output a major section heading with dashes
# Example: heading-section "Summary"
# Output: --- Summary ---

set -eu

heading_section() {

  text=${1-}

  # Use colors if supported
  if [ -t 1 ] && command -v tput >/dev/null 2>&1 && tput setaf 1 >/dev/null 2>&1; then
    bold=$(tput bold 2>/dev/null || true)
    reset=$(tput sgr0 2>/dev/null || true)
    printf '%s--- %s ---%s\n' "$bold" "$text" "$reset"
  else
    printf -- '--- %s ---\n' "$text"
  fi
}

# Self-execute when run directly (not sourced)
case "$0" in
  */heading-section) heading_section "$@" ;; esac