#!/bin/sh
# debug MESSAGE - print debug message (only shown when WIZARDRY_LOG_LEVEL >= 2)
# Example: debug "Variable value: $var"

set -eu

_debug() {
  _debug_level=${WIZARDRY_LOG_LEVEL:-0}
  if [ "$_debug_level" -ge 2 ]; then
    printf 'DEBUG: %s\n' "$*" >&2
  fi
}

# Self-execute when run directly (not sourced)
case "$0" in
  */debug) _debug "$@" ;; esac
