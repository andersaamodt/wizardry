#!/bin/sh
# fail MESSAGE - print message to stderr and return failure (1)
# Example: has git || fail "git required"
set -eu

_fail() {
  printf '%s\n' "$*" >&2
  return 1
}

# Self-execute when run directly (not sourced)
case "$0" in
  */fail) [ "${_WIZARDRY_SOURCING:-}" != "1" ] && _fail "$@" ;; esac
