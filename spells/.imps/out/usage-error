#!/bin/sh
# usage-error NAME MESSAGE - print usage error and exit with code 2
# Example: usage-error "my-spell" "unknown option: -x"

# DEBUG: Log that usage-error was invoked (to terminal, not captured by test)
printf 'DEBUG: usage-error invoked with args: %s %s\n' "${1:-}" "${2:-}" >&2

set -eu


_ue_name=${1:-}
_ue_message=${2:-}
if [ -n "$_ue_name" ]; then
  printf '%s: %s\n' "$_ue_name" "${_ue_message:-usage error}" >&2
elif [ -n "$_ue_message" ]; then
  printf '%s\n' "$_ue_message" >&2
fi
exit 2
