#!/bin/sh
# temp-file [PREFIX] - create temp file with optional prefix (outputs path)
# Example: tmp=$(temp-file myapp) && trap 'cleanup-file "$tmp"' EXIT

set -eu

_temp_file() {
  _tf_prefix=${1:-wizardry}
  mktemp "${TMPDIR:-/tmp}/${_tf_prefix}.XXXXXX"
}

# Self-execute when run directly (not sourced)
case "$0" in
  */temp-file) _temp_file "$@" ;; esac
