#!/bin/sh
# count-words [STRING] - count whitespace-separated words in STRING or stdin.
# Example: count-words "spell one"  # -> 2
set -eu

count_words() {
  if [ "$#" -ge 1 ]; then
    _count_words_input=$1
  else
    _count_words_input=$(cat)
  fi

  _count_words_ifs=${IFS-}
  IFS=' 	
'
  # shellcheck disable=SC2086
  set -- $_count_words_input
  IFS=$_count_words_ifs
  printf '%s' "$#"
}

# Self-execute when run directly (not sourced)
case "$0" in
  */count-words) count_words "$@" ;;
esac
