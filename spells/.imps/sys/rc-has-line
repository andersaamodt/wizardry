#!/bin/sh
# rc-has-line MARKER RC_FILE - check if marker exists in rc file
# Example: rc-has-line cd-hook ~/.zshrc && echo "found"

# Conditional imp - no set -eu (returns exit codes for flow control)


rhl_marker=${1:-}
rhl_rc_file=${2:-}

if [ -z "$rhl_marker" ] || [ -z "$rhl_rc_file" ]; then
  exit 1
fi

if [ ! -f "$rhl_rc_file" ]; then
  exit 1
fi

rhl_full_marker="# wizardry: $rhl_marker"
grep -qF "$rhl_full_marker" "$rhl_rc_file" 2>/dev/null

