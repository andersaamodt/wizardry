#!/bin/sh
# on PLATFORM - test if running on platform (mac/linux/debian/nixos/arch/bsd)
# Example: on mac && pkgin install git


on_platform=$1
on_kernel=$(uname -s 2>/dev/null || echo unknown)

case "$on_platform" in
  mac|macos|darwin)
    [ "$on_kernel" = "Darwin" ] ;;
  linux)
    [ "$on_kernel" = "Linux" ] ;;
  bsd|freebsd)
    case "$on_kernel" in *BSD) true ;; *) false ;; esac ;;
  debian|ubuntu)
    [ -f /etc/debian_version ] ;;
  nixos)
    [ -f /etc/NIXOS ] ;;
  arch)
    [ -f /etc/arch-release ] ;;
  *)
    exit 1 ;;
esac

