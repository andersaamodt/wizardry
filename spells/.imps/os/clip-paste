#!/bin/sh
# clip-paste - paste from system clipboard to stdout
# Example: text=$(clip-paste)


usage() {
        cat <<'USAGE' >&2
Usage: clip-paste

Paste from system clipboard to stdout. Example: text=$(clip-paste).
USAGE
}

case "${1-}" in
--help|--usage|-h)
        usage
        exit 0
        ;;
esac

if command -v pbpaste >/dev/null 2>&1; then
  pbpaste
elif command -v xsel >/dev/null 2>&1; then
  xsel --clipboard --output
elif command -v xclip >/dev/null 2>&1; then
  xclip -selection clipboard -o
elif command -v wl-paste >/dev/null 2>&1; then
  wl-paste
else
  printf '%s\n' "clip-paste: no clipboard utility found (need pbpaste, xsel, xclip, or wl-paste)" >&2
  exit 1
fi
