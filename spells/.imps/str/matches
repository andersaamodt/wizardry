#!/bin/sh
# matches PATTERN FILE - test if file contains regex pattern
# Example: matches "^ID=nixos" /etc/os-release && echo "NixOS detected"


usage() {
        cat <<'USAGE' >&2
Usage: matches PATTERN FILE

Test if file contains regex pattern. Example: matches "^ID=nixos" /etc/os-release && echo "NixOS detected".
USAGE
}

case "${1-}" in
--help|--usage|-h)
        usage
        exit 0
        ;;
esac

grep -q -- "$1" "$2" 2>/dev/null
