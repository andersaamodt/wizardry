#!/bin/sh

# Uninstall the find command.

case "${1-}" in
--help|--usage|-h)
  cat <<'USAGE'
Usage: uninstall-find

This spell uninstalls the find command using the system package manager.
USAGE
  exit 0
  ;;
esac

set -eu

SCRIPT_DIR=$(CDPATH= cd -- "$(dirname "$0")" && pwd -P)

# Package names for officially supported platforms (from detect-distro)
APT_PACKAGE=findutils     # Debian, Ubuntu, Raspbian
PACMAN_PACKAGE=findutils  # Arch, Manjaro
NIX_PACKAGE=findutils     # NixOS
PKGIN_PACKAGE=findutils   # macOS (pkgin package manager)

export APT_PACKAGE PACMAN_PACKAGE NIX_PACKAGE PKGIN_PACKAGE

"$SCRIPT_DIR/manage-system-command" --uninstall find findutils
