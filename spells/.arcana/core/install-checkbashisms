#!/bin/sh

# Bootstrap spell: install the checkbashisms utility so verify-posix can detect non-POSIX shells.

case "${1-}" in
--help|--usage|-h)
  cat <<'USAGE'
Usage: install-checkbashisms

Install the checkbashisms command with your system package manager if it's missing, supporting common Linux distributions and macOS.
USAGE
  exit 0
  ;;
esac

set -eu

SCRIPT_DIR=$(CDPATH= cd -- "$(dirname "$0")" && pwd -P)

ASSUME_YES=1
FORCE_INSTALL=${INSTALL_CHECKBASHISMS_FORCE_INSTALL:-0}
# On Debian/Ubuntu, checkbashisms is in the devscripts package
APT_PACKAGE=devscripts
export ASSUME_YES FORCE_INSTALL APT_PACKAGE

"$SCRIPT_DIR/manage-system-command" checkbashisms devscripts
