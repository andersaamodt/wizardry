#!/bin/sh

# This spell validates whether a string is a valid non-negative integer.
# Use it to check numeric input before processing.

validate_number_usage() {
cat <<'USAGE'
Usage: validate-number <string>

Check whether a string is a non-negative integer. Exits 0 when the value is digits only and 1 when it is not.
USAGE
}

case "${1-}" in
--help|--usage|-h)
        validate_number_usage
        exit 0
        ;;
esac

set -eu

# Check argument
if [ -z "${1+x}" ]; then
        exit 1
fi

case $1 in
        ''|*[!0-9]*)
                exit 1
                ;;
        *)
                exit 0
                ;;
esac
