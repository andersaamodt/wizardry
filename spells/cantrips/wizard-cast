#!/bin/sh

# This spell displays a command before executing it for teaching purposes.
# Use it to show commands to those learning the path of wizardry.

case "${1-}" in
--help|--usage|-h)
  cat <<'USAGE'
Usage: wizard-cast <command> [arguments...]

Show a command with wizard-eyes before executing it so learners can see exactly what will run. Ideal for demonstrating spells or shell commands to novices while keeping execution transparent.
USAGE
  exit 0
  ;;
esac

set -eu
. env-clear

# Check argument
if [ -z "${1-}" ]; then
        fail "wizard-cast: command required" || exit 1
fi

# Display the command using wizard-eyes if available
if has wizard-eyes; then
        wizard-eyes "$*"
else
        printf '    %s\n' "$*" >&2
fi

# Execute the command
"$@"
