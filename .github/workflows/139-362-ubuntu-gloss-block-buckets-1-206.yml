name: 139-362 Ubuntu gloss block buckets 1-206

on:
  pull_request:
    types: [opened, synchronize, reopened]

concurrency:
  group: 139-362-${{ github.event.pull_request.number }}
  cancel-in-progress: true

jobs:
  job-139-362-1-6:
    name: "139-362 blocks 1-6"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 1-6
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 1 6); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-7-12:
    name: "139-362 blocks 7-12"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 7-12
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 7 12); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-13-18:
    name: "139-362 blocks 13-18"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 13-18
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 13 18); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-19-24:
    name: "139-362 blocks 19-24"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 19-24
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 19 24); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-25-30:
    name: "139-362 blocks 25-30"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 25-30
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 25 30); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-31-36:
    name: "139-362 blocks 31-36"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 31-36
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 31 36); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-37-42:
    name: "139-362 blocks 37-42"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 37-42
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 37 42); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-43-48:
    name: "139-362 blocks 43-48"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 43-48
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 43 48); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-49-54:
    name: "139-362 blocks 49-54"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 49-54
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 49 54); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-55-60:
    name: "139-362 blocks 55-60"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 55-60
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 55 60); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-61-66:
    name: "139-362 blocks 61-66"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 61-66
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 61 66); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-67-72:
    name: "139-362 blocks 67-72"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 67-72
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 67 72); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-73-78:
    name: "139-362 blocks 73-78"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 73-78
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 73 78); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-79-84:
    name: "139-362 blocks 79-84"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 79-84
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 79 84); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-85-90:
    name: "139-362 blocks 85-90"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 85-90
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 85 90); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-91-96:
    name: "139-362 blocks 91-96"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 91-96
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 91 96); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-97-102:
    name: "139-362 blocks 97-102"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 97-102
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 97 102); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-103-108:
    name: "139-362 blocks 103-108"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 103-108
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 103 108); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-109-114:
    name: "139-362 blocks 109-114"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 109-114
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 109 114); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-115-120:
    name: "139-362 blocks 115-120"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 115-120
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 115 120); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-121-126:
    name: "139-362 blocks 121-126"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 121-126
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 121 126); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-127-132:
    name: "139-362 blocks 127-132"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 127-132
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 127 132); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-133-138:
    name: "139-362 blocks 133-138"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 133-138
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 133 138); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-139-144:
    name: "139-362 blocks 139-144"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 139-144
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 139 144); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-145-150:
    name: "139-362 blocks 145-150"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 145-150
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 145 150); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-151-156:
    name: "139-362 blocks 151-156"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 151-156
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 151 156); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-157-162:
    name: "139-362 blocks 157-162"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 157-162
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 157 162); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-163-168:
    name: "139-362 blocks 163-168"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 163-168
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 163 168); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-169-174:
    name: "139-362 blocks 169-174"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 169-174
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 169 174); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-175-180:
    name: "139-362 blocks 175-180"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 175-180
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 175 180); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-181-186:
    name: "139-362 blocks 181-186"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 181-186
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 181 186); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-187-192:
    name: "139-362 blocks 187-192"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 187-192
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 187 192); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-193-198:
    name: "139-362 blocks 193-198"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 193-198
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 193 198); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-199-204:
    name: "139-362 blocks 199-204"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 199-204
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 199 204); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-362-205-206:
    name: "139-362 blocks 205-206"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 205-206
        shell: bash
        run: |
          set -euo pipefail
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          for idx in $(seq 205 206); do
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

