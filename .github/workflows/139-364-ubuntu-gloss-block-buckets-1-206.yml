name: 139-364 Ubuntu gloss block buckets 1-206

on:
  pull_request:
    types: [opened, synchronize, reopened]

concurrency:
  group: 139-364-${{ github.event.pull_request.number }}
  cancel-in-progress: true

jobs:
  job-139-364-1-6:
    name: "139-364 blocks 1-6"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 1-6
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 1-6"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=1
          end=6
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 1-6 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-7-12:
    name: "139-364 blocks 7-12"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 7-12
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 7-12"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=7
          end=12
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 7-12 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-13-18:
    name: "139-364 blocks 13-18"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 13-18
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 13-18"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=13
          end=18
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 13-18 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-19-24:
    name: "139-364 blocks 19-24"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 19-24
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 19-24"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=19
          end=24
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 19-24 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-25-30:
    name: "139-364 blocks 25-30"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 25-30
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 25-30"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=25
          end=30
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 25-30 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-31-36:
    name: "139-364 blocks 31-36"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 31-36
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 31-36"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=31
          end=36
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 31-36 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-37-42:
    name: "139-364 blocks 37-42"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 37-42
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 37-42"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=37
          end=42
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 37-42 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-43-48:
    name: "139-364 blocks 43-48"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 43-48
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 43-48"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=43
          end=48
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 43-48 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-49-54:
    name: "139-364 blocks 49-54"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 49-54
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 49-54"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=49
          end=54
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 49-54 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-55-60:
    name: "139-364 blocks 55-60"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 55-60
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 55-60"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=55
          end=60
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 55-60 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-61-66:
    name: "139-364 blocks 61-66"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 61-66
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 61-66"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=61
          end=66
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 61-66 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-67-72:
    name: "139-364 blocks 67-72"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 67-72
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 67-72"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=67
          end=72
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 67-72 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-73-78:
    name: "139-364 blocks 73-78"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 73-78
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 73-78"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=73
          end=78
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 73-78 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-79-84:
    name: "139-364 blocks 79-84"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 79-84
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 79-84"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=79
          end=84
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 79-84 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-85-90:
    name: "139-364 blocks 85-90"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 85-90
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 85-90"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=85
          end=90
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 85-90 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-91-96:
    name: "139-364 blocks 91-96"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 91-96
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 91-96"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=91
          end=96
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 91-96 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-97-102:
    name: "139-364 blocks 97-102"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 97-102
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 97-102"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=97
          end=102
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 97-102 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-103-108:
    name: "139-364 blocks 103-108"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 103-108
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 103-108"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=103
          end=108
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 103-108 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-109-114:
    name: "139-364 blocks 109-114"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 109-114
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 109-114"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=109
          end=114
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 109-114 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-115-120:
    name: "139-364 blocks 115-120"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 115-120
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 115-120"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=115
          end=120
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 115-120 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-121-126:
    name: "139-364 blocks 121-126"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 121-126
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 121-126"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=121
          end=126
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 121-126 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-127-132:
    name: "139-364 blocks 127-132"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 127-132
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 127-132"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=127
          end=132
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 127-132 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-133-138:
    name: "139-364 blocks 133-138"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 133-138
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 133-138"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=133
          end=138
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 133-138 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-139-144:
    name: "139-364 blocks 139-144"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 139-144
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 139-144"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=139
          end=144
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 139-144 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-145-150:
    name: "139-364 blocks 145-150"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 145-150
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 145-150"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=145
          end=150
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 145-150 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-151-156:
    name: "139-364 blocks 151-156"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 151-156
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 151-156"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=151
          end=156
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 151-156 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-157-162:
    name: "139-364 blocks 157-162"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 157-162
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 157-162"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=157
          end=162
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 157-162 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-163-168:
    name: "139-364 blocks 163-168"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 163-168
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 163-168"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=163
          end=168
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 163-168 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-169-174:
    name: "139-364 blocks 169-174"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 169-174
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 169-174"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=169
          end=174
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 169-174 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-175-180:
    name: "139-364 blocks 175-180"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 175-180
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 175-180"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=175
          end=180
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 175-180 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-181-186:
    name: "139-364 blocks 181-186"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 181-186
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 181-186"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=181
          end=186
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 181-186 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-187-192:
    name: "139-364 blocks 187-192"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 187-192
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 187-192"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=187
          end=192
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 187-192 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-193-198:
    name: "139-364 blocks 193-198"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 193-198
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 193-198"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=193
          end=198
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 193-198 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-199-204:
    name: "139-364 blocks 199-204"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 199-204
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 199-204"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=199
          end=204
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 199-204 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

  job-139-364-205-206:
    name: "139-364 blocks 205-206"
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Install attr
        run: |
          sudo apt-get update
          sudo apt-get install -y attr

      - name: Run blocks 205-206
        shell: bash
        run: |
          set -euo pipefail
          echo "[gloss-bucket] blocks 205-206"
          export WIZARDRY_DIR="$GITHUB_WORKSPACE"
          . "$WIZARDRY_DIR/spells/.imps/sys/invoke-wizardry"
          gloss_dir=$(mktemp -d /tmp/wizardry-gloss-blocks.XXXXXX)
          gloss_file=$(mktemp /tmp/wizardry-gloss.XXXXXX)
          "$WIZARDRY_DIR/spells/.wizardry/generate-glosses" --output "$gloss_file"
          awk_program=$(printf '%s\n' \
            'BEGIN { idx=0; out="" }' \
            '/^# First-word gloss/ {' \
            '  idx++' \
            '  out=sprintf("%s/block-%03d.sh", outdir, idx)' \
            '  print "# block " idx > out' \
            '}' \
            '{ if (out != "") print >> out }' \
            'END { printf "%d\n", idx > outdir "/count" }')
          awk -v outdir="$gloss_dir" "$awk_program" "$gloss_file"
          total=$(cat "$gloss_dir/count")
          start=205
          end=206
          if [ "$start" -gt "$total" ]; then
            printf '%s\n' "range 205-206 beyond total $total; skipping"
            exit 0
          fi
          if [ "$end" -gt "$total" ]; then
            end=$total
          fi
          for idx in $(seq "$start" "$end"); do
            printf '%s\n' "[gloss-bucket] sourcing block $idx"
            block="$gloss_dir/block-$(printf '%03d' "$idx").sh"
            if [ ! -s "$block" ]; then
              printf '%s\n' "missing block $idx" >&2
              exit 1
            fi
            . "$block"
          done
          set +e
          ( banish 8 --only --no-tests --no-heal )
          status=$?
          if [ "$status" -eq 139 ]; then
            printf '%s\n' "subshell banish exited with code 139 (SIGSEGV)"
            printf '%s\n' "Last 50 dmesg lines (if available):"
            dmesg | tail -n 50 || true
          fi
          exit "$status"

